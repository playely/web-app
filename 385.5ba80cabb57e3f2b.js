"use strict";(self.webpackChunkplay_jolly_web_app=self.webpackChunkplay_jolly_web_app||[]).push([[385],{385:(Oe,T,r)=>{r.r(T),r.d(T,{SettingsModule:()=>Ae});var l=r(9808),Z=r(8555),e=r(5e3),u=(()=>{return(t=u||(u={})).OTP="otp",t.EMAIL="email",u;var t})();let A=(()=>{class t{constructor(){}getUserInfo(){return Promise.resolve({email:"test@text.com",image:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png",name:"John Smith",token:"dfwefwefwefwefewfwefewfwe",id:"123423232",phone:"53365889",country:{code:"GT",name:"Guatemala",numberCode:"502"},loginMethod:u.OTP,subscriptions:[]})}getUserPreferences(){return Promise.resolve({loginMethod:u.OTP})}updatePreferences(n){return Promise.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var U=r(1228),s=r(3075),d=r(8966),v=r(3251),m=r(7322),O=r(7531),b=r(9814),f=r(7423),g=r(821);function w(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"formErrors.nameRequired")))}function D(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"formErrors.emailRequired")))}function S(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"formErrors.emailBadFormat")))}function q(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"formErrors.phoneNumberBadFormat")))}function M(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"formErrors.passwordRequired")))}function E(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"formErrors.confirmPasswordRequired")))}let y=(()=>{class t{constructor(n,i){this.formBuilder=n,this.dialogRef=i,this.userForm=this.formBuilder.group({name:["",[s.kI.required]],email:["",[s.kI.email,s.kI.required]],phoneNumber:["",[s.kI.pattern(/[0-9]+/)]],gender:[0]}),this.passwordForm=this.formBuilder.group({password:["",s.kI.required],confirmPassword:["",s.kI.required]})}ngOnInit(){}editUser(){this.userForm.valid&&(console.log(this.userForm.value),this.dialogRef.close())}changePassword(){this.passwordForm.valid&&(console.log(this.passwordForm.value),this.dialogRef.close())}handleError(n,i){return this.userForm.controls[n].touched&&this.userForm.controls[n].hasError(i)}handlePwdError(n,i){return this.passwordForm.controls[n].touched&&this.passwordForm.controls[n].hasError(i)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.qu),e.Y36(d.so))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-user"]],decls:66,vars:61,consts:[[1,"card"],[1,"card-content"],["mat-align-tabs","start"],[3,"label"],[1,"edit-controls",3,"formGroup","ngSubmit"],["matInput","","formControlName","name",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","email",3,"placeholder"],["matPrefix",""],["matInput","","formControlName","phoneNumber",3,"placeholder"],[1,"field"],["formControlName","gender","aria-label","Select an option"],[3,"value"],["type","submit","mat-raised-button","","color","primary",1,"save-button"],["matInput","","formControlName","password",3,"placeholder"],["matInput","","formControlName","confirmPassword",3,"placeholder"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-tab-group",2)(6,"mat-tab",3),e.ALo(7,"translate"),e.TgZ(8,"form",4),e.NdJ("ngSubmit",function(){return i.editUser()}),e.TgZ(9,"mat-form-field")(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",5),e.ALo(14,"translate"),e.YNc(15,w,3,3,"mat-error",6),e.qZA(),e.TgZ(16,"mat-form-field")(17,"mat-label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"input",7),e.ALo(21,"translate"),e.YNc(22,D,3,3,"mat-error",6),e.YNc(23,S,3,3,"mat-error",6),e.qZA(),e.TgZ(24,"mat-form-field")(25,"mat-label"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"span",8),e._uU(29,"+1 \xa0"),e.qZA(),e._UZ(30,"input",9),e.ALo(31,"translate"),e.YNc(32,q,3,3,"mat-error",6),e.qZA(),e.TgZ(33,"div",10)(34,"mat-label"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"mat-radio-group",11)(38,"mat-radio-button",12),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"mat-radio-button",12),e._uU(42),e.ALo(43,"translate"),e.qZA()()(),e.TgZ(44,"button",13),e._uU(45),e.ALo(46,"translate"),e.qZA()()(),e.TgZ(47,"mat-tab",3),e.ALo(48,"translate"),e.TgZ(49,"form",4),e.NdJ("ngSubmit",function(){return i.changePassword()}),e.TgZ(50,"mat-form-field")(51,"mat-label"),e._uU(52),e.ALo(53,"translate"),e.qZA(),e._UZ(54,"input",14),e.ALo(55,"translate"),e.YNc(56,M,3,3,"mat-error",6),e.qZA(),e.TgZ(57,"mat-form-field")(58,"mat-label"),e._uU(59),e.ALo(60,"translate"),e.qZA(),e._UZ(61,"input",15),e.ALo(62,"translate"),e.YNc(63,E,3,3,"mat-error",6),e.qZA(),e.TgZ(64,"button",13),e._uU(65,"Guardar"),e.qZA()()()()()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,27,"Account")),e.xp6(3),e.Q6J("label",e.lcZ(7,29,"Profile")),e.xp6(2),e.Q6J("formGroup",i.userForm),e.xp6(3),e.Oqu(e.lcZ(12,31,"Name")),e.xp6(2),e.Q6J("placeholder",e.lcZ(14,33,"placeholders.name")),e.xp6(2),e.Q6J("ngIf",i.handleError("name","required")),e.xp6(3),e.Oqu(e.lcZ(19,35,"Email")),e.xp6(2),e.Q6J("placeholder",e.lcZ(21,37,"placeholders.email")),e.xp6(2),e.Q6J("ngIf",i.handleError("email","required")),e.xp6(1),e.Q6J("ngIf",i.handleError("email","email")),e.xp6(3),e.Oqu(e.lcZ(27,39,"phoneNumber")),e.xp6(4),e.Q6J("placeholder",e.lcZ(31,41,"placeholders.phoneNumber")),e.xp6(2),e.Q6J("ngIf",i.handleError("phoneNumber","pattern")),e.xp6(3),e.Oqu(e.lcZ(36,43,"Gender")),e.xp6(3),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(40,45,"Female")),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(43,47,"Male")),e.xp6(3),e.Oqu(e.lcZ(46,49,"Save")),e.xp6(2),e.Q6J("label",e.lcZ(48,51,"Password")),e.xp6(2),e.Q6J("formGroup",i.passwordForm),e.xp6(3),e.Oqu(e.lcZ(53,53,"Password")),e.xp6(2),e.Q6J("placeholder",e.lcZ(55,55,"placeholders.password")),e.xp6(2),e.Q6J("ngIf",i.handlePwdError("password","required")),e.xp6(3),e.Oqu(e.lcZ(60,57,"confirmPassword")),e.xp6(2),e.Q6J("placeholder",e.lcZ(62,59,"placeholders.confirmPassword")),e.xp6(2),e.Q6J("ngIf",i.handlePwdError("confirmPassword","required")))},directives:[v.SP,v.uX,s._Y,s.JL,s.sg,m.KE,m.hX,O.Nt,s.Fj,s.JJ,s.u,l.O5,m.TO,m.qo,b.VQ,b.U0,f.lW],pipes:[g.X$],styles:[".card-content[_ngcontent-%COMP%]{padding:50px}.card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.edit-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;padding-top:15px}.save-button[_ngcontent-%COMP%]{padding:5px 25px;width:60%}.field[_ngcontent-%COMP%]{width:100%}mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 15px;margin-bottom:15px}mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-top:15px}"]}),t})();var p=(()=>{return(t=p||(p={})).WEB="web",t.MOBILE_WEB="mobile-web",t.MOBILE="mobile",t.SMART_TV="smart-tv",p;var t})(),C=r(5245);function I(t,o){1&t&&(e.TgZ(0,"mat-icon"),e._uU(1,"computer"),e.qZA())}function L(t,o){1&t&&(e.TgZ(0,"mat-icon"),e._uU(1,"tv"),e.qZA())}function N(t,o){1&t&&(e.TgZ(0,"mat-icon"),e._uU(1,"phone_iphone "),e.qZA())}let J=(()=>{class t{constructor(n,i){this.data=n,this.formBuilder=i,this.inputForm=this.formBuilder.group({value:[n.value]})}get DeviceType(){return p}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.WI),e.Y36(s.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-input-dialog"]],decls:17,vars:14,consts:[[1,"card"],[1,"card-content"],[4,"ngIf"],[3,"formGroup"],["appearance","standard"],["matInput","","autocomplete","off","formControlName","value"],["type","submit","mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5"),e.YNc(3,I,2,0,"mat-icon",2),e.YNc(4,L,2,0,"mat-icon",2),e.YNc(5,N,2,0,"mat-icon",2),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",3)(9,"mat-form-field",4)(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",5),e.qZA(),e.TgZ(14,"button",6),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("ngIf",i.data.type===i.DeviceType.WEB),e.xp6(1),e.Q6J("ngIf",i.data.type===i.DeviceType.SMART_TV),e.xp6(1),e.Q6J("ngIf",i.data.type===i.DeviceType.MOBILE_WEB||i.data.type===i.DeviceType.MOBILE),e.xp6(1),e.hij(" ",e.lcZ(7,8,i.data.title)," "),e.xp6(2),e.Q6J("formGroup",i.inputForm),e.xp6(3),e.Oqu(e.lcZ(12,10,i.data.placeholder)),e.xp6(3),e.Q6J("mat-dialog-close",i.inputForm.value.value),e.xp6(1),e.Oqu(e.lcZ(16,12,i.data.btnText)))},directives:[l.O5,C.Hw,s._Y,s.JL,s.sg,m.KE,m.hX,O.Nt,s.Fj,s.JJ,s.u,f.lW,d.ZT],pipes:[g.X$],styles:[".card-content[_ngcontent-%COMP%]{padding:50px}.card-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 15px;display:flex;align-items:center}.card-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}"]}),t})();var Y=r(9451),h=(()=>{return(t=h||(h={}))[t.YESNO=0]="YESNO",t[t.OK=1]="OK",h;var t})(),_=(()=>{return(t=_||(_={}))[t.YES=0]="YES",t[t.NO=1]="NO",t[t.OK=2]="OK",_;var t})();function Q(t,o){if(1&t&&(e.TgZ(0,"div",3)(1,"button",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",5),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("mat-dialog-close",n.dialogReturn.YES),e.xp6(1),e.Oqu(e.lcZ(3,4,"Yes")),e.xp6(2),e.Q6J("mat-dialog-close",n.dialogReturn.NO),e.xp6(1),e.Oqu(e.lcZ(6,6,"No"))}}function k(t,o){if(1&t&&(e.TgZ(0,"div",3)(1,"button",4),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("mat-dialog-close",n.dialogReturn.OK),e.xp6(1),e.Oqu(e.lcZ(3,2,"Ok"))}}let F=(()=>{class t{constructor(n,i){this.dialogRef=n,this.data=i,this.title="",this.message="",this.isOkDialog=!0,this.title=this.data.title,this.message=this.data.message,this.isOkDialog=this.data.type===h.OK}get dialogReturn(){return _}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.so),e.Y36(d.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-yes-no-ok"]],decls:10,vars:8,consts:[[1,"card"],[1,"card-content"],["class","button-container",4,"ngIf"],[1,"button-container"],["mat-raised-button","","color","primary",3,"mat-dialog-close"],["mat-raised-button","","color","accent",3,"mat-dialog-close"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,Q,7,8,"div",2),e.YNc(9,k,4,4,"div",2),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,4,i.title)),e.xp6(3),e.Oqu(e.lcZ(7,6,i.message)),e.xp6(2),e.Q6J("ngIf",!i.isOkDialog),e.xp6(1),e.Q6J("ngIf",i.isOkDialog))},directives:[l.O5,f.lW,d.ZT],pipes:[g.X$],styles:[".card-content[_ngcontent-%COMP%]{padding:50px}.card-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:5px}"]}),t})(),x=(()=>{class t{constructor(n){this.dialog=n}openLinkDeviceDialog(){return this.dialog.open(Y.R,{panelClass:"card-panel-class-container",backdropClass:"card-panel-class-backdrop"})}openEditUser(n){return this.dialog.open(y,{data:n,panelClass:"card-panel-class-container",backdropClass:"card-panel-class-backdrop"})}openRenewPlan(){return this.openYesNoDialog("settings.renewalPlan","settings.renewalPlanMessage")}openCancelPlan(){return this.openYesNoDialog("settings.cancelPlan","settings.cancelPlanMessage")}openChangeDeviceName(n){return this.dialog.open(J,{data:{title:"settings.changeDeviceName",placeholder:"settings.deviceName",btnText:"Save",type:n},panelClass:"card-panel-class-container",backdropClass:"card-panel-class-backdrop"})}openRemoveDevice(){return this.openYesNoDialog("settings.removeDevice","settings.removeDeviceMessage")}openYesNoDialog(n,i){return this.dialog.open(F,{data:{type:h.YESNO,title:n,message:i},panelClass:"card-panel-class-container",backdropClass:"card-panel-class-backdrop"})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(d.uw))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),B=(()=>{class t{constructor(){}getSUbscriptions(){return Promise.resolve([{name:"Plan Estandar (3 meses)",id:"1",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!0},{name:"Plan Estandar (3 meses)",id:"2",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!1},{name:"Plan Estandar (3 meses)",id:"3",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!1},{name:"Plan Estandar (3 meses)",id:"4",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!0},{name:"Plan Estandar (3 meses)",id:"5",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!1},{name:"Plan Estandar (3 meses)",id:"6",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!1},{name:"Plan Estandar (3 meses)",id:"7",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!0},{name:"Plan Estandar (3 meses)",id:"8",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!1},{name:"Plan Estandar (3 meses)",id:"9",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!1},{name:"Plan Estandar (3 meses)",id:"10",validUntil:new Date,purchased:new Date,price:119.9,currency:"Q.",nextBilling:new Date,status:!1}])}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=r(7850);const j=function(t){return{"active-plan":t}};function R(t,o){if(1&t&&(e.TgZ(0,"p",10),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&t){const n=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(7,j,n.status)),e.xp6(1),e.hij(" ",e.lcZ(2,3,"settings.status"),": "),e.xp6(3),e.Oqu(e.lcZ(5,5,"settings.active"))}}const G=function(t){return{"inactive-plan":t}};function W(t,o){if(1&t&&(e.TgZ(0,"p",10),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&t){const n=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(7,G,!n.status)),e.xp6(1),e.hij(" ",e.lcZ(2,3,"settings.status"),": "),e.xp6(3),e.Oqu(e.lcZ(5,5,"settings.inactive"))}}function X(t,o){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij("",e.lcZ(2,2,"settings.nextBilling"),": "),e.xp6(3),e.Oqu(e.xi3(5,4,n.nextBilling,"longDate"))}}function $(t,o){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij("",e.lcZ(2,2,"settings.validUntil"),": "),e.xp6(3),e.Oqu(e.xi3(5,4,n.validUntil,"longDate"))}}function z(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).changePlan()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"settings.changePlan"),""))}function V(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).renewPlan()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"settings.renewalPlan"),""))}function H(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).cancelPlan()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"settings.cancelPlan"),""))}function K(t,o){if(1&t&&(e.TgZ(0,"div",3)(1,"h5"),e._uU(2),e.qZA(),e.YNc(3,R,6,9,"p",4),e.YNc(4,W,6,9,"p",4),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.TgZ(11,"p"),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"span"),e._uU(15),e.qZA()(),e.YNc(16,X,6,7,"p",5),e.YNc(17,$,6,7,"p",5),e.TgZ(18,"div",6),e.YNc(19,z,3,3,"button",7),e.YNc(20,V,3,3,"button",7),e.YNc(21,H,3,3,"button",8),e.qZA(),e._UZ(22,"div",9),e.qZA()),2&t){const n=o.$implicit;e.xp6(2),e.Oqu(n.name),e.xp6(1),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(2),e.hij("",e.lcZ(7,13,"settings.purchasedAt")," "),e.xp6(3),e.Oqu(e.xi3(10,15,n.purchased,"longDate")),e.xp6(3),e.hij("",e.lcZ(13,18,"settings.price"),": "),e.xp6(3),e.AsE("",n.currency,"",n.price,""),e.xp6(1),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(2),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(1),e.Q6J("ngIf",n.status)}}let ee=(()=>{class t{constructor(n,i){this.subService=n,this.dialogService=i,this.subscriptions=[],this.viewSubscriptions=[],this.SIZE_PAGE=2}ngOnInit(){this.subService.getSUbscriptions().then(n=>{this.subscriptions=n,this.viewSubscriptions=this.subscriptions.slice(0,2)})}changePlan(){}renewPlan(){this.dialogService.openRenewPlan().afterClosed().subscribe(n=>{n===_.YES&&console.log("Renew plan")})}cancelPlan(){this.dialogService.openCancelPlan().afterClosed().subscribe(n=>{n===_.YES&&console.log("Cancel plan")})}changePage(n){const a=n.pageIndex*this.SIZE_PAGE+this.SIZE_PAGE;this.viewSubscriptions=this.subscriptions.slice(n.pageIndex*this.SIZE_PAGE,a>this.subscriptions.length?n.pageIndex*this.SIZE_PAGE+a-this.subscriptions.length:a)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(B),e.Y36(x))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-subscriptions"]],decls:3,vars:4,consts:[[1,"subscriptions-container"],["class","list-line-item",4,"ngFor","ngForOf"],["aria-label","Select page",3,"hidePageSize","length","pageSize","page"],[1,"list-line-item"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"button-container"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","accent",3,"click",4,"ngIf"],[1,"divider"],[3,"ngClass"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","accent",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,K,23,20,"div",1),e.TgZ(2,"mat-paginator",2),e.NdJ("page",function(c){return i.changePage(c)}),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("ngForOf",i.viewSubscriptions),e.xp6(1),e.Q6J("hidePageSize",!0)("length",i.subscriptions.length)("pageSize",i.SIZE_PAGE))},directives:[l.sg,l.O5,l.mk,f.lW,P.NW],pipes:[g.X$,l.uU],styles:[".subscriptions-container[_ngcontent-%COMP%]{padding-top:20px}.active-plan[_ngcontent-%COMP%]{color:#e91e63}.inactive-plan[_ngcontent-%COMP%]{color:#1884f7}"]}),t})(),te=(()=>{class t{constructor(){}getDevices(){return Promise.resolve([{id:"1",serial:"1",name:"web",type:p.WEB,enrollDate:new Date,status:!0,isCurrentDevice:!0,lastUsedDate:new Date},{id:"1",serial:"1",name:"web",type:p.WEB,enrollDate:new Date,status:!0,isCurrentDevice:!1,lastUsedDate:new Date},{id:"2",serial:"2",name:"mobile",type:p.MOBILE,enrollDate:new Date,status:!0,isCurrentDevice:!1,lastUsedDate:new Date},{id:"6",serial:"6",name:"smart-tv",type:p.SMART_TV,enrollDate:new Date,status:!1,isCurrentDevice:!1,lastUsedDate:new Date},{id:"3",serial:"3",name:"mobile-web",type:p.MOBILE_WEB,enrollDate:new Date,status:!0,isCurrentDevice:!1,lastUsedDate:new Date},{id:"4",serial:"4",name:"smart-tv",type:p.SMART_TV,enrollDate:new Date,status:!0,isCurrentDevice:!1,lastUsedDate:new Date},{id:"5",serial:"5",name:"smart-tv",type:p.SMART_TV,enrollDate:new Date,status:!1,isCurrentDevice:!1,lastUsedDate:new Date}])}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ne(t,o){1&t&&(e.TgZ(0,"mat-icon"),e._uU(1,"computer"),e.qZA())}function ie(t,o){1&t&&(e.TgZ(0,"mat-icon"),e._uU(1,"tv"),e.qZA())}function oe(t,o){1&t&&(e.TgZ(0,"mat-icon"),e._uU(1,"phone_iphone "),e.qZA())}function ae(t,o){1&t&&(e.TgZ(0,"p",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"settings.currentDevice")))}const se=function(t){return{"active-device":t}};function re(t,o){if(1&t&&(e.TgZ(0,"p",12),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&t){const n=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(7,se,n.status)),e.xp6(1),e.hij(" ",e.lcZ(2,3,"settings.status"),": "),e.xp6(3),e.hij("",e.lcZ(5,5,"settings.active")," ")}}const ce=function(t){return{"inactive-device":t}};function le(t,o){if(1&t&&(e.TgZ(0,"p",12),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&t){const n=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(7,ce,!n.status)),e.xp6(1),e.hij(" ",e.lcZ(2,3,"settings.status"),": "),e.xp6(3),e.Oqu(e.lcZ(5,5,"settings.inactive"))}}function pe(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).removeDevice()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"settings.delete")))}function ue(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",3)(1,"h5"),e.YNc(2,ne,2,0,"mat-icon",4),e.YNc(3,ie,2,0,"mat-icon",4),e.YNc(4,oe,2,0,"mat-icon",4),e._uU(5),e.qZA(),e.YNc(6,ae,3,3,"p",5),e.YNc(7,re,6,9,"p",6),e.YNc(8,le,6,9,"p",6),e.TgZ(9,"p"),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"span"),e._uU(13),e.ALo(14,"date"),e.qZA()(),e.TgZ(15,"p"),e._uU(16),e.ALo(17,"translate"),e.TgZ(18,"span"),e._uU(19),e.ALo(20,"date"),e.qZA()(),e.TgZ(21,"div",7),e.YNc(22,pe,3,3,"button",8),e.TgZ(23,"button",9),e.NdJ("click",function(){const c=e.CHM(n).$implicit;return e.oxw().changeDeviceName(c)}),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e._UZ(26,"div",10),e.qZA()}if(2&t){const n=o.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf",n.type===i.DeviceType.WEB),e.xp6(1),e.Q6J("ngIf",n.type===i.DeviceType.SMART_TV),e.xp6(1),e.Q6J("ngIf",n.type===i.DeviceType.MOBILE_WEB||n.type===i.DeviceType.MOBILE),e.xp6(1),e.hij(" ",n.name," "),e.xp6(1),e.Q6J("ngIf",n.isCurrentDevice),e.xp6(1),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(2),e.hij("",e.lcZ(11,13,"settings.registeredAt"),": "),e.xp6(3),e.Oqu(e.xi3(14,15,n.enrollDate,"medium")),e.xp6(3),e.hij("",e.lcZ(17,18,"settings.lastUsedAt"),": "),e.xp6(3),e.Oqu(e.xi3(20,20,n.lastUsedDate,"medium")),e.xp6(3),e.Q6J("ngIf",n.status&&!n.isCurrentDevice),e.xp6(2),e.hij(" ",e.lcZ(25,23,"settings.updateName")," ")}}let ge=(()=>{class t{constructor(n,i){this.deviceService=n,this.dialogService=i,this.devices=[],this.viewDevices=[],this.SIZE_PAGE=2}get DeviceType(){return p}ngOnInit(){this.deviceService.getDevices().then(n=>{this.devices=n,this.viewDevices=this.devices.slice(0,this.SIZE_PAGE)})}removeDevice(){this.dialogService.openRemoveDevice().afterClosed().subscribe(n=>{n===_.YES&&console.log(" remove device")})}changeDeviceName(n){this.dialogService.openChangeDeviceName(n.type).afterClosed().subscribe(i=>{console.log("RESPONSE: ",i)})}changePage(n){const a=n.pageIndex*this.SIZE_PAGE+this.SIZE_PAGE;this.viewDevices=this.devices.slice(n.pageIndex*this.SIZE_PAGE,a>this.devices.length?n.pageIndex*this.SIZE_PAGE+a-this.devices.length:a)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(te),e.Y36(x))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-devices"]],decls:3,vars:4,consts:[[1,"devices-container"],["class","list-line-item",4,"ngFor","ngForOf"],["aria-label","Select page",3,"hidePageSize","length","pageSize","page"],[1,"list-line-item"],[4,"ngIf"],["class","active-device",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"button-container"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","accent",3,"click"],[1,"divider"],[1,"active-device"],[3,"ngClass"],["mat-stroked-button","","color","primary",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,ue,27,25,"div",1),e.TgZ(2,"mat-paginator",2),e.NdJ("page",function(c){return i.changePage(c)}),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("ngForOf",i.viewDevices),e.xp6(1),e.Q6J("hidePageSize",!0)("length",i.devices.length)("pageSize",i.SIZE_PAGE))},directives:[l.sg,l.O5,C.Hw,l.mk,f.lW,P.NW],pipes:[g.X$,l.uU],styles:[".devices-container[_ngcontent-%COMP%]{padding-top:20px}h5[_ngcontent-%COMP%]{display:flex;align-items:center}h5[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.active-device[_ngcontent-%COMP%]{color:#e91e63}.inactive-device[_ngcontent-%COMP%]{color:#1884f7}"]}),t})();var de=r(3469),me=r(2368),_e=r(4107),fe=r(508);function he(t,o){if(1&t&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n.key),e.xp6(1),e.Oqu(n.name)}}let ve=(()=>{class t{constructor(n,i){this.userService=n,this.languageService=i,this.loginMethodChange=new e.vpe,this.languagesList=[],this.languagesList=this.languageService.getAvailableLanguages();const a=this.languageService.getCurrentLanguage();this.loginEmailControl=new s.NI(!0),this.loginOTPControl=new s.NI(!1),this.languageControl=new s.NI(a.key),this.userService.getUserPreferences().then(c=>{this.updateLoginMethods(!0,c.loginMethod)})}get LoginMethod(){return u}ngOnInit(){}handleTogleChange(n,i){this.updateLoginMethods(n.checked,i);const a=this.loginEmailControl.value?u.EMAIL:u.OTP;this.loginMethodChange.emit(a),this.userService.updatePreferences({loginMethod:a})}handleLanguageChange(n){this.languageService.changeLanguage(n.value)}updateLoginMethods(n,i){i===u.EMAIL?(this.loginEmailControl.setValue(n),this.loginOTPControl.setValue(!n)):(this.loginOTPControl.setValue(n),this.loginEmailControl.setValue(!n))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(A),e.Y36(de.T))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-preferences"]],outputs:{loginMethodChange:"loginMethodChange"},decls:27,vars:19,consts:[[1,"field-container"],[1,"list-line-item"],[1,"field"],[3,"formControl","change"],[1,"divider","show-divider"],["appearance","standard"],[3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",2)(6,"p"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"mat-slide-toggle",3),e.NdJ("change",function(c){return i.handleTogleChange(c,i.LoginMethod.EMAIL)}),e.qZA()(),e.TgZ(10,"div",2)(11,"p"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"mat-slide-toggle",3),e.NdJ("change",function(c){return i.handleTogleChange(c,i.LoginMethod.OTP)}),e.qZA()(),e._UZ(15,"div",4),e.qZA(),e.TgZ(16,"div",1)(17,"h5"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",2)(21,"p"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"mat-form-field",5)(25,"mat-select",6),e.NdJ("selectionChange",function(c){return i.handleLanguageChange(c)}),e.YNc(26,he,2,2,"mat-option",7),e.qZA()()()()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,9,"settings.loginMethod")),e.xp6(4),e.Oqu(e.lcZ(8,11,"settings.loginWithEmail")),e.xp6(2),e.Q6J("formControl",i.loginEmailControl),e.xp6(3),e.Oqu(e.lcZ(13,13,"settings.loginWithOTP")),e.xp6(2),e.Q6J("formControl",i.loginOTPControl),e.xp6(4),e.Oqu(e.lcZ(19,15,"settings.accountLanguage")),e.xp6(4),e.Oqu(e.lcZ(23,17,"Language")),e.xp6(3),e.Q6J("formControl",i.languageControl),e.xp6(1),e.Q6J("ngForOf",i.languagesList))},directives:[me.Rr,s.JJ,s.oH,m.KE,_e.gD,l.sg,fe.ey],pipes:[g.X$],styles:[".field-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;width:100%;padding-top:30px}.field-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;margin:0 0 10px}.show-divider[_ngcontent-%COMP%]{display:block!important}.field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:5px}.field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:auto}"]}),t})();function Ze(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",8),e._UZ(3,"img",9),e.TgZ(4,"h4"),e._uU(5),e.TgZ(6,"button",10),e.NdJ("click",function(){return e.CHM(n),e.oxw().editUser()}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA()()()(),e.TgZ(9,"div",11)(10,"mat-icon"),e._uU(11,"email"),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA()(),e.TgZ(14,"div",11)(15,"mat-icon"),e._uU(16,"smartphone"),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()(),e.TgZ(19,"div",11)(20,"mat-icon"),e._uU(21,"push_pin"),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.qZA()(),e.TgZ(24,"div",11)(25,"mat-icon"),e._uU(26,"key"),e.qZA(),e.TgZ(27,"p"),e._uU(28),e.ALo(29,"translate"),e.qZA()()(),e.TgZ(30,"div",12)(31,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().linkDevice()}),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"button",14),e.NdJ("click",function(){return e.CHM(n),e.oxw().logout()}),e._uU(35),e.ALo(36,"translate"),e.qZA()()()}if(2&t){const n=e.oxw();e.xp6(3),e.Q6J("src",n.user.image,e.LSH),e.xp6(2),e.hij("",n.user.name," "),e.xp6(8),e.Oqu(n.user.email),e.xp6(5),e.Oqu(n.fullNumber),e.xp6(5),e.Oqu(null==n.user.country?null:n.user.country.name),e.xp6(5),e.Oqu(e.lcZ(29,8,n.user.loginMethod)),e.xp6(4),e.Oqu(e.lcZ(33,10,"settings.linkDevice")),e.xp6(3),e.Oqu(e.lcZ(36,12,"logout"))}}const Ce=[{path:"",component:(()=>{class t{constructor(n,i,a,c){this.userService=n,this.authService=i,this.router=a,this.dialogService=c}get fullNumber(){var n,i;return`+${null===(n=this.user)||void 0===n?void 0:n.country.numberCode} ${null===(i=this.user)||void 0===i?void 0:i.phone}`}ngOnInit(){this.userService.getUserInfo().then(n=>{this.user=n})}handleLoginMethodChange(n){this.user&&(this.user.loginMethod=n)}editUser(){this.dialogService.openEditUser(this.user)}linkDevice(){this.dialogService.openLinkDeviceDialog()}logout(){this.authService.logout().then(()=>{this.router.navigate(["/home"])})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(A),e.Y36(U.e),e.Y36(Z.F0),e.Y36(x))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-settings"]],decls:13,vars:10,consts:[[1,"settings-container"],["class","profile-container",4,"ngIf"],[1,"options"],["mat-align-tabs","end"],[3,"label"],[3,"loginMethodChange"],[1,"profile-container"],[1,"profile-container__data"],[1,"image-container"],["alt","User profile",3,"src"],["mat-icon-button","","color","accent",3,"click"],[1,"item"],[1,"buttons"],["mat-stroked-button","","color","primary",1,"btn-device",3,"click"],["mat-stroked-button","","color","accent",1,"btn-logout",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Ze,37,14,"div",1),e.TgZ(2,"div",2)(3,"mat-tab-group",3)(4,"mat-tab",4),e.ALo(5,"translate"),e._UZ(6,"app-subscriptions"),e.qZA(),e.TgZ(7,"mat-tab",4),e.ALo(8,"translate"),e._UZ(9,"app-devices"),e.qZA(),e.TgZ(10,"mat-tab",4),e.ALo(11,"translate"),e.TgZ(12,"app-preferences",5),e.NdJ("loginMethodChange",function(c){return i.handleLoginMethodChange(c)}),e.qZA()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.user),e.xp6(3),e.Q6J("label",e.lcZ(5,4,"settings.subscriptions")),e.xp6(3),e.Q6J("label",e.lcZ(8,6,"settings.devices")),e.xp6(3),e.Q6J("label",e.lcZ(11,8,"settings.preferences")))},directives:[l.O5,f.lW,C.Hw,v.SP,v.uX,ee,ge,ve],pipes:[g.X$],styles:[".settings-container[_ngcontent-%COMP%]{width:100%;height:80vh;display:flex}.settings-container[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]{width:20%;height:100%;justify-content:space-between;display:flex;flex-direction:column;align-items:flex-start}.settings-container[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.settings-container[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10vw;height:10vw;border-radius:100%}.settings-container[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:15px 0 0;display:flex;align-items:center}.settings-container[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:15px 0 0;color:#fff;display:flex;align-items:center}.settings-container[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.settings-container[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:0}.settings-container[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{width:80%;height:100%;padding-left:20px}.btn-logout[_ngcontent-%COMP%], .btn-device[_ngcontent-%COMP%]{margin-top:10px;width:100%}"]}),t})(),data:{hideFooter:!0,title:"settings"}}];let xe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(Ce)],Z.Bz]}),t})();var Te=r(9060);let Ae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,xe,Te.q,s.UX,g.aw]]}),t})()}}]);